- type: constructionGraph
  id: EnergyCoreBig
  start: start
  graph:
    - node: start
      edges:
        - to: frame1
          completed:
            - !type:SnapToGrid { }
          steps:
            - material: Plasteel
              amount: 30
              doAfter: 2

    - node: frame1
      entity: EnergyCoreBigFrame
      actions:
      - !type:AppearanceChange
      edges:
        - to: frame2
          steps:
            - material: Plasma
              amount: 30
              doAfter: 3
        - to: start
          completed:
            - !type:SpawnPrototype
              prototype: SheetPlasteel1
              amount: 30
            - !type:DeleteEntity {}
          conditions:
            - !type:EntityAnchored
              anchored: false
          steps:
            - tool: Welding
              doAfter: 20

    - node: frame2
      actions:
      - !type:AppearanceChange
      - !type:AddContainer
        container: core_core
      edges:
        - to: frame3
          conditions:
            - !type:ContainerNotEmpty
              container: core_core
          steps:
            - tool: Screwing
              doAfter: 0.5
        - to: frame1
          completed:
            - !type:SpawnPrototype
              prototype: SheetPlasma1
              amount: 30
          conditions:
            - !type:EntityAnchored
              anchored: false
          steps:
            - tool: Cutting
              doAfter: 4

    - node: frame3
      actions:
      - !type:AppearanceChange
      edges:
        - to: frame4
          steps:
            - material: Silver
              amount: 20
              doAfter: 0.50
        - to: frame2
          completed:
            - !type:SpawnPrototype
              prototype: RNDECCPU1
              amount: 1
          conditions:
            - !type:EntityAnchored
              anchored: false
          steps:
            - tool: Prying
              doAfter: 0.50

    - node: frame4
      actions:
      - !type:AppearanceChange
      edges:
        - to: frame5
          steps:
            - material: ReinforcedGlass
              amount: 30
              doAfter: 4

        - to: frame3
          conditions:
            - !type:EntityAnchored
              anchored: false
          completed:
          - !type:SpawnPrototype
              prototype: IngotSilver1
              amount: 20
          steps:
            - tool: Welding
              doAfter: 20

    - node: frame5
      actions:
      - !type:AppearanceChange
      edges:
        - to: frame6
          steps:
            - tool: Anchoring
              doAfter: 2
        - to: frame4
          completed:
            - !type:SpawnPrototype
              prototype: SheetRGlass1
              amount: 30
          steps:
            - tool: Prying
              doAfter: 2

    - node: frame6
      actions:
      - !type:AppearanceChange
      edges:
        - to: frame5
          conditions:
            - !type:EntityAnchored
              anchored: true
          steps:
            - tool: Anchoring
              doAfter: 2
          completed:
            - !type:SnapToGrid
              southRotation: true
        - to: end
          conditions:
          - !type:EntityAnchored
            anchored: true
          steps:
          - material: Plastic
            amount: 30
            doAfter: 3


    - node: end
      entity: RnDBigCore
      edges:
      - to: finish
        conditions:
        - !type:EntityAnchored
          anchored: true
        steps:
        - tool: Screwing
          doAfter: 0.50
      - to: frame6
        conditions:
        - !type:EntityAnchored
          anchored: true
        completed:
        - !type:SpawnPrototype
          prototype: SheetPlastic1
          amount: 30
        steps:
        - tool: Prying
          doAfter: 2

- type: construction
  name: Большое энергоядро
  id: EnergyCoreBigConstruction
  graph: EnergyCoreBig
  startNode: start
  targetNode: end
  category: construction-category-structures
  description: СУПЕР ПУПЕР ЯДРО!
  icon:
    sprite: Adventure\Structures\Machines\EnergyCores\ec_const_small.rsi
    state: corpus
  layers:
  - sprite: Adventure\Structures\Machines\EnergyCores\ec_const_big.rsi
    state: corpus
  objectType: Structure
  placementMode: SnapgridCenter
  canBuildInImpassable: false
  conditions:
    - !type:TileNotBlocked
