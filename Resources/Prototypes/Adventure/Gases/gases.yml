# БЗ
- type: gasReaction
  id: BZProduction
  priority: 0
  maximumTemperature: 373.13
  maximumPressure: 40 # 40 кПа
  minimumRequirements:
  - 0     # oxygen
  - 0     # nitrogen
  - 0     # carbon dioxide
  - 0.01  # plasma
  - 0     # tritium
  - 0     # vapor
  - 0     # ammonia
  - 0.01  # n2o
  - 0     # frezon
  - 0     # bz
  effects:
  - !type:BZProductionReaction {}

- type: gas
  id: 9
  name: gases-bz
  specificHeat: 20
  heatCapacityRatio: 1.33
  molarMass: 44
  color: c56091
  reagent: BZ
  pricePerMole: 2

- type: entity
  parent: GasCanister
  id: BZCanister
  name: канистра БЗ
  description: Канистра, в которой может содержаться газ любого вида. В этой, предположительно, содержится БЗ. Можно прикрепить к порту коннектора с помощью гаечного ключа.
  components:
    - type: Sprite
      sprite: Adventure/Structures/Storage/canister.rsi
      noRot: true
      layers:
        - state: pink
    - type: GasCanister
      gasMixture:
        volume: 1000
        moles:
          - 0 # oxygen
          - 0 # nitrogen
          - 0 # CO2
          - 0 # Plasma
          - 0 # Tritium
          - 0 # vapor
          - 0 # ammonia
          - 0 # n20
          - 0 # frezon
          - 1871.71051 # bz
        temperature: 293.15
    - type: Destructible
      thresholds:
      - trigger:
          !type:DamageTrigger
          damage: 600
        behaviors:
          - !type:DoActsBehavior
            acts: [ "Destruction" ]
      - trigger:
          !type:DamageTrigger
          damage: 300
        behaviors:
        - !type:PlaySoundBehavior
          sound:
            collection: MetalBreak
        - !type:SpawnEntitiesBehavior
          spawn:
            BZCanisterBroken:
              min: 1
              max: 1
        - !type:DoActsBehavior
          acts: [ "Destruction" ]
        - !type:DumpCanisterBehavior
    - type: Lock
      locked: true

- type: entity
  parent: GasCanisterBrokenBase
  id: BZCanisterBroken
  categories: [ HideSpawnMenu ]
  components:
    - type: Sprite
      sprite: Adventure/Structures/Storage/canister.rsi
      state: pink-1

- type: reagent
  id: BZ
  name: reagent-name-bz
  desc: reagent-desc-bz
  physicalDesc: reagent-physical-desc-gaseous
  flavor: bitter
  color: "#c4f5ff"
  metabolisms:
    Gas:
      effects:
      - !type:PopupMessage
        conditions:
        - !type:ReagentThreshold
          reagent: BZ
          min: 0.5
        - !type:OrganType
          type: Slime
        type: Local
        visualType: Medium
        messages: [ "effect-sleepy" ]
        probability: 0.1
      - !type:MovespeedModifier
        conditions:
        - !type:ReagentThreshold
          reagent: BZ
          min: 1
        - !type:OrganType
          type: Slime
        walkSpeedModifier: 0.65
        sprintSpeedModifier: 0.65
      - !type:GenericStatusEffect
        conditions:
        - !type:ReagentThreshold
          reagent: BZ
          min: 1.8
        - !type:OrganType
          type: Slime
        key: ForcedSleep
        component: ForcedSleeping
        time: 3
        type: Add
      - !type:HealthChange
        conditions:
        - !type:ReagentThreshold
          reagent: BZ
          min: 3.5
        ignoreResistances: true
        damage:
          types:
            Poison: 0.25
      - !type:PopupMessage
        type: Local
        visualType: Medium
        messages: [ "bz-euphoric" ]
        probability: 0.1
        conditions:
        - !type:ReagentThreshold
          reagent: BZ
          min: 1
      - !type:GenericStatusEffect
        conditions:
        - !type:ReagentThreshold
          reagent: BZ
          min: 1
        key: SeeingRainbows
        component: SeeingRainbows
        type: Add
        time: 500
        refresh: false
      - !type:Drunk
        boozePower: 500
        conditions:
        - !type:ReagentThreshold
          reagent: BZ
          min: 1

# Галон

- type: gasReaction
  id: HalonFireSuppression
  priority: 0
  minimumRequirements:
  - 0     # oxygen
  - 0     # nitrogen
  - 0     # carbon dioxide
  - 0     # plasma
  - 0     # tritium
  - 0     # vapor
  - 0     # ammonia
  - 0     # n2o
  - 0     # frezon
  - 0     # bz
  - 0.01  # halon
  effects:
  - !type:HalonFireSuppressionReaction {}

- type: gas
  id: 10
  name: gases-halon
  specificHeat: 175
  heatCapacityRatio: 1.33
  molarMass: 44
  gasOverlaySprite: /Textures/Adventure/atmospherics.rsi
  gasOverlayState: halon
  color: 99ccff
  reagent: Halon
  pricePerMole: 4

- type: entity
  parent: GasCanister
  id: HalonCanister
  name: канистра галона
  description: Канистра, в которой может содержаться газ любого вида. В этой, предположительно, содержится Галон. Можно прикрепить к порту коннектора с помощью гаечного ключа.
  components:
    - type: Sprite
      sprite: Adventure/Structures/Storage/canister.rsi
      noRot: true
      layers:
        - state: halon
    - type: GasCanister
      gasMixture:
        volume: 1000
        moles:
          - 0 # oxygen
          - 0 # nitrogen
          - 0 # CO2
          - 0 # Plasma
          - 0 # Tritium
          - 0 # vapor
          - 0 # ammonia
          - 0 # n20
          - 0 # frezon
          - 0 # bz
          - 1871.71051 # halon
        temperature: 293.15
    - type: Destructible
      thresholds:
      - trigger:
          !type:DamageTrigger
          damage: 600
        behaviors:
          - !type:DoActsBehavior
            acts: [ "Destruction" ]
      - trigger:
          !type:DamageTrigger
          damage: 300
        behaviors:
        - !type:PlaySoundBehavior
          sound:
            collection: MetalBreak
        - !type:SpawnEntitiesBehavior
          spawn:
            HalonCanisterBroken:
              min: 1
              max: 1
        - !type:DoActsBehavior
          acts: [ "Destruction" ]
        - !type:DumpCanisterBehavior
    - type: Lock
      locked: true

- type: entity
  parent: GasCanisterBrokenBase
  id: HalonCanisterBroken
  categories: [ HideSpawnMenu ]
  components:
    - type: Sprite
      sprite: Adventure/Structures/Storage/canister.rsi
      state: halon-1

- type: reagent # Копия диоксида углерода, ибо я ленивый
  id: Halon
  name: reagent-name-halon
  desc: reagent-desc-halon
  physicalDesc: reagent-physical-desc-odorless
  flavor: bitter
  color: "#66ff33"
  metabolisms:
    Gas:
      effects:
      - !type:Oxygenate
        conditions:
        - !type:OrganType
          type: Plant
      - !type:HealthChange
        conditions:
        - !type:OrganType
          type: Plant
          shouldHave: false
        - !type:OrganType
          type: Vox
          shouldHave: false
        - !type:ReagentThreshold
          min: 0.5
        scaleByQuantity: true
        ignoreResistances: true
        damage:
          types:
            Poison:
              0.8
      - !type:Oxygenate
        conditions:
        - !type:OrganType
          type: Plant
          shouldHave: false
        factor: -4
