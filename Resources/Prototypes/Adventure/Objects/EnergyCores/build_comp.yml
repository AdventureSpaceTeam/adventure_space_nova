- type: entity
  id: BaseEnergyBuildComp
  parent: BaseItem
  name: Базовая составляющая Энергоядра
  description: Кругленькая красивенькая, но очень функциональная и хрупкая вещица. Является "центральным процессором" Энергоядра.
  abstract: true
  components:
    - type: Sprite
      sprite: Adventure/Objects/EnergyCores/mini_core-RnD.rsi
      state: icon
    - type: Item
      size: Large
      inhandVisuals:
        left:
          - state: wielded-inhand-right
        right:
          - state: wielded-inhand-left
    - type: MultiHandedItem


- type: entity
  parent: BaseEnergyBuildComp
  id: RnDEnergyCoreCPU
  name: Центральный процессор ядра РнД
  components:
    - type: Sprite
      sprite: Adventure/Objects/EnergyCores/mini_core-RnD.rsi
      state: icon

- type: entity
  parent: RnDEnergyCoreCPU
  id: RNDECCPU1
  name: ЦПУ РНД
  suffix: Single
  components:
  - type: Sprite
  - type: Stack
    stackType: RNDECCPU
    count: 1

- type: entity
  id: SyndicateEnergyCoreCPU
  parent: BaseEnergyBuildComp
  name: Центральный процессор ядра Синдиката
  components:
    - type: Sprite
      sprite: Adventure/Objects/EnergyCores/mini_core-redspace.rsi
      state: icon

- type: entity
  parent: SyndicateEnergyCoreCPU
  id: SYNECCPU1
  name: ЦПУ Синдиката
  suffix: Single
  components:
  - type: Sprite
  - type: Stack
    stackType: SYNECCPU
    count: 1

- type: entity
  id: NanoTrasenEnergyCoreCPU
  parent: BaseEnergyBuildComp
  name: Центральный процессор ядра НаноТрейзен
  components:
    - type: Sprite
      sprite: Adventure/Objects/EnergyCores/mini_core-blue.rsi
      state: icon

- type: entity
  parent: NanoTrasenEnergyCoreCPU
  id: NTECCPU1
  name: ЦПУ НаноТрейзен
  suffix: Single
  components:
  - type: Sprite
  - type: Stack
    stackType: NTECCPU
    count: 1

- type: entity
  id: HandMadeEnergyCoreCPU
  parent: BaseEnergyBuildComp
  name: Центральный процессор самодельного ядра
  components:
    - type: Sprite
      sprite: Adventure/Objects/EnergyCores/mini_core-yellow.rsi
      state: icon

- type: entity
  parent: HandMadeEnergyCoreCPU
  id: HMECCPU1
  name: Самодельный ЦПУ
  suffix: Single
  components:
  - type: Sprite
  - type: Stack
    stackType: HMECCPU
    count: 1

- type: stack
  id: HMECCPU
  name: самодельное ЦПУ
  icon: { sprite: Adventure/Objects/EnergyCores/mini_core-yellow.rsi, state: icon }
  spawn: HMECCPU1
  maxCount: 1

- type: stack
  id: SYNECCPU
  name: ЦПУ Синдиката
  icon: { sprite: Adventure/Objects/EnergyCores/mini_core-redspace.rsi, state: icon }
  spawn: SYNECCPU1
  maxCount: 1

- type: stack
  id: NTECCPU
  name: ЦПУ НаноТрейзен
  icon: { sprite: Adventure/Objects/EnergyCores/mini_core-blue.rsi, state: icon }
  spawn: NTECCPU1
  maxCount: 1

- type: stack
  id: RNDECCPU
  name: рнд ЦПУ
  icon: { sprite: Adventure/Objects/EnergyCores/mini_core-RnD.rsi, state: icon }
  spawn: RNDECCPU1
  maxCount: 1

- type: material
  id: HMECCPU
  stackEntity: HMECCPU1
  name: самодельное ЦПУ
  unit: ядра
  icon: { sprite: Adventure/Objects/EnergyCores/mini_core-yellow.rsi, state: icon }
  color: "#C0C0C0"
  price: 5

- type: material
  id: RNDECCPU
  stackEntity: RNDECCPU1
  name: рнд ЦПУ
  unit: ядра
  icon: { sprite: Adventure/Objects/EnergyCores/mini_core-RnD.rsi, state: icon }
  color: "#C0C0C0"
  price: 5

- type: material
  id: NTECCPU
  stackEntity: NTECCPU1
  name: ЦПУ НаноТрейзен
  unit: ядра
  icon: { sprite: Adventure/Objects/EnergyCores/mini_core-blue.rsi, state: icon }
  color: "#C0C0C0"
  price: 5

- type: material
  id: SYNECCPU
  stackEntity: SYNECCPU1
  name: ЦПУ Синдиката
  unit: ядра
  icon: { sprite: Adventure/Objects/EnergyCores/mini_core-redspace.rsi, state: icon }
  color: "#C0C0C0"
  price: 5


- type: entity
  id: EnergyCoreFrame
  parent: BaseStructureDynamic
  name: каркас базового энергоядра
  description: Это каркас базового энергоядра.
  abstract: true
  components:
  - type: GenericVisualizer
    visuals:
      enum.ConstructionVisuals.Key:
        enum.ConstructionVisuals.Layer:
          frame1: { state: corpus }
          frame2: { state: corpus_metal }
          frame3rnd: { state: corpus_wires-1 }
          frame4rnd: { state: corpus_wires-2 }
          frame5rnd: { state: corpus_wires-3 }
          frame6rnd: { state: corpus_wires-4 }
          frame3nt: { state: corpus_wires-1 }
          frame4nt: { state: corpus_wires-2 }
          frame5nt: { state: corpus_wires-3 }
          frame6nt: { state: corpus_wires-4 }
  - type: Sprite
    sprite: Adventure\Structures\Machines\EnergyCores\ec_const_big.rsi
    layers:
    - state: corpus
    snapCardinals: false
    offset: 0.5,0
  - type: InteractionOutline
  - type: Damageable
    damageContainer: StructuralInorganic
    damageModifierSet: StructuralMetallicStrong
  - type: RCDDeconstructable
    cost: 4
    delay: 6
    fx: EffectRCDDeconstruct6
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 500
      behaviors:
      - !type:DoActsBehavior
        acts: ["Destruction"]
  - type: Physics
    bodyType: Dynamic
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeCircle
          radius: 2
        density: 80
        mask:
          - FullTileMask
        layer:
          - FullTileLayer
  - type: Transform
    noRot: true
  - type: Construction
    containers:
      - core_core
  - type: Con

- type: entity
  id: EnergyCoreBigFrame
  parent: EnergyCoreFrame
  components:
  - type: Sprite
    sprite: Adventure\Structures\Machines\EnergyCores\ec_const_big.rsi
    layers:
    - state: corpus
  - type: Construction
    graph: EnergyCoreBig
    node: frame1
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeCircle
          radius: 2
        density: 80
        mask:
          - FullTileMask
        layer:
          - FullTileLayer

- type: entity
  id: EnergyCoreSmallFrame
  parent: EnergyCoreFrame
  components:
  - type: Sprite
    sprite: Adventure\Structures\Machines\EnergyCores\ec_const_small.rsi
    layers:
    - state: corpus
  - type: Construction
    graph: EnergyCoreSmall
    node: frame1
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeCircle
          radius: 0.5
        density: 80
        mask:
          - FullTileMask
        layer:
          - FullTileLayer

- type: entity
  id: EnergyCoreMediumFrame
  parent: EnergyCoreFrame
  components:
  - type: Sprite
    sprite: Adventure\Structures\Machines\EnergyCores\ec_const_medium.rsi
    layers:
    - state: corpus
  - type: Construction
    graph: EnergyCoreMedium
    node: frame1
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeCircle
          radius: 1
        density: 80
        mask:
          - FullTileMask
        layer:
          - FullTileLayer
